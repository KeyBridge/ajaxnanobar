
(function(a){var c=".nanobar{width:100%;height:4px;z-index:9999;top:0}.bar{width:0;height:100%;transition:height .3s;background:#000}";function f(){var g=document.getElementById("nanobarcss");if(g===null){g=document.createElement("style");g.type="text/css";g.id="nanobarcss";document.head.insertBefore(g,document.head.firstChild);if(!g.styleSheet){return g.appendChild(document.createTextNode(c))}g.styleSheet.cssText=c}}function e(h,g){if(h.classList){h.classList.add(g)}else{h.className+=" "+g}}function b(l){var h=document.createElement("div"),g=0,o=0,n=0,m={el:h,go:j};e(h,"bar");function i(){var p=g-o;if(p<0.1&&p>-0.1){k(o);n=0;if(g>=100){h.style.height=0;setTimeout(function(){l(h)},300)}}else{k(g-p/4);setTimeout(j,16)}}function k(p){g=p;h.style.width=g+"%"}function j(p){if(p>=0){o=p;if(!n){n=1;i()}}else{if(n){i()}}}return m}function d(i){i=i||{};var h=document.createElement("div"),g,l={el:h,go:function(m){g(m);if(m>=100){k()}}};function j(m){h.removeChild(m)}function k(){var m=b(j);h.appendChild(m.el);g=m.go}f();e(h,"nanobar");if(i.id){h.id=i.id}if(i.classname){e(h,i.classname)}if(i.target){h.style.position="relative";i.target.insertBefore(h,i.target.firstChild)}else{h.style.position="fixed";document.getElementsByTagName("body")[0].appendChild(h)}k();return l}if(typeof exports==="object"){module.exports=d}else{if(typeof define==="function"&&define.amd){define([],function(){return d})}else{a.Nanobar=d}}}(this));var nanobar=new Nanobar();jsf.ajax.addOnEvent(function(b){var a=b.status;switch(a){case"begin":nanobar.go(30);break;case"complete":nanobar.go(90);break;case"success":nanobar.go(100);break}});